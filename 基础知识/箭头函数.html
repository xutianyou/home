<!DOCTYPE html>
<html>
<head>
  <title></title>
</head>
<body>
<script type="text/javascript">
var obj = {
  birth: 1990,
  getAge: function () {
      var b = this.birth; // 1990
      var fn = function (n) {
        console.log('this', this)
        return new Date().getFullYear() - this.birth; // this指向window或undefined //NaN
      };
      return fn();
  }
};
obj.getAge(1)

var obj = {
    birth: 1990,
    getAge: function (n) {
        var b = this.birth; // 1990
        var fn = () => {
          console.log('this', this)
          return new Date().getFullYear() - this.birth
        }; // this指向obj对象
        return fn(1);
    }
};
obj.getAge(); // 25

var aa = () => {
  console.log('this', this)
}
aa();

// 箭头函数不能用于构造函数
var Box = function(age){
    this.myAge=age;
}
var obj1 = new Box(20);
console.log(obj1.myAge);//20

// var Box2 = age=>{
//     this.myAge=age;
// }
// var obj2 = new Box2(20);//Box is not a constructor
// console.log(obj2.myAge)

// 箭头函数没有prototype属性
// 箭头函数不绑定arguments
console.log('arguments', arguments) // undefined
var arguments = 42;
var fn = () => {
  console.log('arguments', arguments) // 42
  return arguments
};
console.log(fn()); // 42

function foo() {
    var f = (i) => {
      console.log('arguments', arguments[0]) // 1
      return arguments[0]+i
    };
    return f(2);
}
console.log(foo(1)); // 3
</script>
</body>
</html>