<!DOCTYPE html>
<html>
<head>
	<title>this作用</title>
</head>
<body>
<script type="text/javascript">
/*
普通函数this：
this总是代表它的直接调用者。
在默认情况下，没找到直接调用者，this指的是window。
在严格模式下，没有直接调用者的函数中的this是undefined。
使用call,apply,bind绑定，this指的是绑定的对象。

箭头函数this：
在使用=>定义函数的时候，this的指向是 定义时所在的对象，而不是使用时所在的对象；
不能够用作构造函数，这就是说，不能够使用new命令，否则就会抛出一个错误；
不能够使用 arguments 对象；
不能使用 yield 命令；

*/
	function foo () {
		console.log(this.a)
	}
	var a = 1
	foo()	// this指向windowns

	function fn () {
		console.log(this)
	}
	var obj = {
		fn: fn
	}
	obj.fn() // this指向obj

	function CreateJsPerson (name, age) {
		this.name = name;
		this.age = age;
	}
	var pl = new CreateJsPerson('许天佑', 32)
	console.log('-----------')
	console.log(pl.name)
	console.log(pl.age)
	console.log('-----------')

	function add (c, d) {
		return this.a + this.b + c + d;
	}

	var o = {
		a: 1,
		b: 3
	}
	var _add = add.call(o, 5, 7) // call改变this指向
	var _apply = add.apply(o, [5, 7]) // apply改变this指向
	console.log(_add)
	console.log(_apply)

	var array1 = [12 , "foo" , {name:"Joe"} , -2458]; 
	var array2 = ["Doe" , 555 , 100]; 
	Array.prototype.push.apply(array1, array2);
	console.log(array1)
	console.log(array2)

</script>
</body>
</html>